---
binary_sensor:
  - name: sleeping_time
    state: >
      {% if (
        (
          (now().isoweekday() <= 5 and now() > today_at("07:30"))
          or (now().isoweekday() > 5 and now() > today_at("11:00"))
        )
        and now() < today_at("23:00")
      ) %}
        off
      {% else %}
        on
      {% endif %}
