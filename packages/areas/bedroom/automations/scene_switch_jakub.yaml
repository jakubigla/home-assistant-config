---
alias: Jakub Scene Switch
description: Jakub Scene Switch - covers, lights, etc
id: 8cf28416-b602-42e4-bb6b-c3684d5641e3

triggers:
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 1_single
    trigger: device
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 2_single
    trigger: device
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 3_single
    trigger: device
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 4_single
    trigger: device
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 1_double
    trigger: device
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 2_double
    trigger: device
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 3_double
    trigger: device
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 4_double
    trigger: device
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 1_hold
    trigger: device
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 2_hold
    trigger: device
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 3_hold
    trigger: device
  - domain: mqtt
    device_id: 4d92ad36385ea363d61d88e59608f70b
    type: action
    subtype: 4_hold
    trigger: device

actions:
  - choose:
      - conditions:
          - condition: template
            value_template: "{{ trigger.payload == '1_single' }}"
        sequence:
          - action: light.toggle
            target:
              entity_id: light.bedroom_jakub
      - conditions:
          - condition: template
            value_template: "{{ trigger.payload == '3_single' }}"
        sequence:
          - action: light.toggle
            target:
              entity_id: light.bedroom_leds
      - conditions:
          - condition: template
            value_template: "{{ trigger.payload == '1_hold' }}"
        sequence:
          - action: light.turn_off
            target:
              area_id: bedroom
      - conditions:
          - condition: template
            value_template: "{{ trigger.payload == '3_hold' }}"
        sequence:
          - action: light.turn_off
            target:
              floor_id:
                - backyard
                - ground_floor
                - first_floor
      # Covers
      - conditions:
          - condition: template
            value_template: "{{ trigger.payload == '2_single' }}"
        sequence:
          - action: cover.open_cover
            target:
              area_id: bedroom
      - conditions:
          - condition: template
            value_template: "{{ trigger.payload == '4_single' }}"
        sequence:
          - action: cover.close_cover
            target:
              area_id: bedroom
      - conditions:
          - condition: template
            value_template: "{{ trigger.payload == '2_double' }}"
        sequence:
          - action: cover.stop_cover
            target:
              area_id: bedroom
      - conditions:
          - condition: template
            value_template: "{{ trigger.payload == '4_double' }}"
        sequence:
          - action: cover.set_cover_position
            data:
              entity_id: cover.bedroom
              position: 20

mode: single
