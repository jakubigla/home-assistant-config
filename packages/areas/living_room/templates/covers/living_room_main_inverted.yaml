---
cover:
  - name: living_room_main_curtains
    unique_id: living_room_main_curtains_inverted
    device_class: curtain
    state: >
      {% set original = states('cover.living_room_main') %}
      {% if original == 'open' %}
        closed
      {% elif original == 'closed' %}
        open
      {% else %}
        {{ original }}
      {% endif %}
    position: >
      {{ 100 - state_attr('cover.living_room_main', 'current_position') | int(0) }}
    open_cover:
      - action: cover.open_cover
        target:
          entity_id: cover.living_room_main
    close_cover:
      - action: cover.close_cover
        target:
          entity_id: cover.living_room_main
    stop_cover:
      - action: cover.stop_cover
        target:
          entity_id: cover.living_room_main
    set_cover_position:
      - action: cover.set_cover_position
        target:
          entity_id: cover.living_room_main
        data:
          position: "{{ position }}"
